%% This is an example first chapter.  You should put chapter/appendix that you
%% write into a separate file, and add a line \include{yourfilename} to
%% main.tex, where `yourfilename.tex' is the name of the chapter/appendix file.
%% You can process specific files by typing their names in at the 
%% \files=
%% prompt when you run the file main.tex through LaTeX.
\chapter{Analysis}

\section{Stakeholders}

There are four distinguished groups of stakeholders which will be affected by the outcome of this project. These are summarized as follows.

\paragraph{Users} They are the clients of the product and producers of the data that feeds the system. They will provide the data gathered from their solar panels or wind mills to the system. To that end, they are responsible for keeping the sensor device working under the required conditions.
\paragraph{CREAF} This research center is the client of the project and the product owner. The staff in charge of the project is responsible for ensuring that the software and hardware of the sensor devices will be updated as needed and for the maintenance of the system. In addition, CREAF must also provide and approve any required funding and infrastructure, as well as monitor the progress of the project.
\paragraph{Decision makers} Politicians and any person responsible for decisions that may affect the future of renewable energies in Catalonia. They will use the system as a basis for decisions concerning renewable energy production in Catalonia.
\paragraph{Green activists} They act as a pressure group disseminating the system in their regular campaigns.

\section{Constraints} \label{constraints}
\subsection{Schedule Constraint}

\begin{description}
\item[Description] The project shall be finished by June 2014.
\item[Rationale] This project will be delivered as a MS Thesis and must completed before its presentation at the end of June 2014.
\end{description}

\subsection{Budget Constraints}

\subsubsection{Development Constraint}

\begin{description}
\item[Description] The project shall be developed by one engineer.
\item[Rationale] Since there is no budget assigned to the project, it must be developed by the author of this MS Thesis within the time specified in the Schedule Constraint.
\end{description}

\subsubsection{Infrastructure Constraint}

\begin{description}
\item[Description] The system's prototype must not involve any cost.
\item[Rationale] Due to the lack of budget the project must opt for free services and solutions.
\end{description}

\section{Scope of the Product}

As already outlined in \ref{project_goals} this MS Thesis is part of a larger project. Given the constraints enumerated in \ref{constraints} the said MS Thesis aims to build the foundation for the further development of the project, focusing on its core features. By doing so, we will be able to draw conclusions and plan the further development of the project accordingly. Thus, aspects such as the hardware of the sensor device, its distribution among the users or the building of the complete web application with private features falls beyond the scope of this MS Thesis. Therefore, the system will be compound of the following three parts. 

Firstly, a sensor simulator that will allow to use the system as if the sensor were already developed. To that end, the simulator will provide a Command Line Interface (CLI) to allow seamless interaction with the system. It will cover the essential use cases for the system to work, leaving others out of the scope.

Secondly, a distributed system that will process and store the observations generated from the simulators. Eventually, the same system will deal with real observations from the sensor devices. Additionally, it will provide a web interface to manage the sensors and observations as well as the system's settings.

Finally, a simple web application publicly accessible that will display these observations in a real-time map. This application will allow to explore the possibilities of a complete SaaS by providing insight into the complexities and requirements of building such service.

The scope of the project is formalized with the following features:

\begin{itemize}
\item Register simulators as sensors in the system
\item Store observations generated from the simulator
\item Change the data storage configuration
\item Query the data store
\item Clear the data store
\item Show observations in real-time on a map
\end{itemize}

\section{Requirements}

These requirements have been obtained by means of some meetings with the CREAF researcher in charge of the project.

TODO Real use-case data (number of owners) has been obtained to "scope" the system qualities properly.

\subsection{Functional Requirements}

TODO It must be taken into account that even though sensors bla simulators

\begin{usecase}
\addtitle{Requirement}{Insert Sensor}
\addfield{Description:}{The system shall register the sensors that will interact with it}
\addfield{Rationale:}{The observations within the system must be related to the producer sensor to know the location of the phenomenon, and so the sensors must be registered beforehand}
\end{usecase}

\begin{usecase}
\addtitle{Requirement}{Insert Observation}
\addfield{Description:}{The system shall store the observation measured by the sensors}
\addfield{Rationale:}{The sensor observations must be stored into the system in order to be queried}
\end{usecase}

\begin{usecase}
\addtitle{Requirement}{Update data storage configuration}
\addfield{Description:}{The system shall allow to change the data storage settings}
\addfield{Rationale:}{The system must be independent of the parameters of the underlying data storage and allow administrators to update it}
\end{usecase}

\begin{usecase}
\addtitle{Requirement}{Query data store}
\addfield{Description:}{The system shall allow to query the stored data}
\addfield{Rationale:}{The system must allow administrators to query all the raw data including the observations}
\end{usecase}

\begin{usecase}
\addtitle{Requirement}{Clear data store}
\addfield{Description:}{The system shall allow to empty all data stored}
\addfield{Rationale:}{The system must allow administrators to clean up all data stored in the system for maintenance purposes}
\end{usecase}

\begin{usecase}
\addtitle{Requirement}{Data visualization}
\addfield{Description:}{The system shall allow to browse observations in a real-time data visualization}
\addfield{Rationale:}{The users must be able to browse the location of the observations from a map in real time}
\end{usecase}

\subsection{Non-functional Requirements}

\subsubsection*{Usability}

\begin{usecase}
\addtitle{Requirement}{User-friendly}
\addfield{Description:}{The web application shall be easy to use by final users}
\addfield{Rationale:}{The users must be able to use the web application by means of the User Interface (UI) without prior learning}
\end{usecase}

\begin{usecase}
\addtitle{Requirement}{Configurable CLI}
\addfield{Description:}{The simulator's CLI shall allow to configure all its parameters}
\addfield{Rationale:}{The simulator's users must be able to choose the parameters of the operations in order to simulate the sensors behaviour in different conditions}
\end{usecase}

\subsubsection*{Performance}

\begin{usecase}
\addtitle{Requirement}{Observations per hour}
\addfield{Description:}{The sensor's simulators shall send at least 6 observations per hour}
\addfield{Rationale:}{The simulators must be able to send at least 6 observation requests per hour to the system as this amount is likely to be changed}
\end{usecase}

\begin{usecase}
\addtitle{Requirement}{Real-time}
\addfield{Description:}{The system shall display an sensor's observation before its next one is received}
\addfield{Rationale:}{Users must be able to see the observations in real-time. Hence, the time to process and show an observation must be lower than the period between receipt of observations}
\end{usecase}

\begin{usecase}
\addtitle{Requirement}{Concurrency}
\addfield{Description:}{The system shall be reliable processing observations from at least 10 sensors}
\addfield{Rationale:}{Although budget constraints do not allow to use a full-featured infrastructure the system must be able to deal with reasonable concurrency}
\end{usecase}

\begin{usecase}
\addtitle{Requirement}{Scalability}
\addfield{Description:}{The system shall be scalable}
\addfield{Rationale:}{It must be easy to scale the system in order to handle higher loads with more sensors, more users or both}
\end{usecase}

\subsubsection*{Interfaces to External Systems}
\begin{usecase}
\addtitle{Requirement}{Interoperability}
\addfield{Description:}{The system shall conform to OGC Sensor Observation Service (SOS)}
\addfield{Rationale:}{The system must offer its data using SOS standard in order to be interoperable from other independent systems}
\end{usecase}

\subsubsection*{System Constraints}

\begin{itemize}
	\item The system must be able to run in commodity servers 
	\item The whole codebase must be portable in order to be deployed in any platform including PaaS and IaaS
\end{itemize}

\begin{usecase}
\addtitle{Requirement}{Licensing}
\addfield{Description:}{The system and all its components shall adhere to Apache License}
\addfield{Rationale:}{The system and all components of the final solution must adhere to Apache License to ensure all software is open-source}
\end{usecase}

\subsubsection*{Compliance}

\begin{usecase}
\addtitle{Requirement}{Licensing}
\addfield{Description:}{The system and all its components shall adhere to Apache License}
\addfield{Rationale:}{The system and all components of the final solution must adhere to Apache License to ensure all software is open-source}
\end{usecase}




